# MDAT Scenario 3 — Energy Consumption & CO₂ Emissions (1993–2012, Thessaloniki)

This scenario processes open statistical data on electricity consumption in Thessaloniki (1993–2012)  
to calculate annual CO₂ emissions by usage category.  
All actions are aligned with **Data Privacy Vocabulary (DPV 2.2)** and **ODRL 2.2**, and are extended with custom MDAT terms to describe specific analytical steps.

---

## Scenario Overview

| Element | Description |
|----------|--------------|
| **Script** | `energy_emissions_thessaloniki.py` |
| **Input Dataset** | `energy_consumption_thessaloniki_1993-2012.xlsx` |
| **Temporal Coverage** | 1993 – 2012 |
| **Geographic Scope** | Thessaloniki Regional Unit |
| **Emission Factor Source** | 256 g CO₂/kWh — Nowtricity (2023) |
| **Outputs** | `thess_energy_analysis.xlsx`, `co2_emissions_per_category.png`, `energy_consumption_per_category.png` |

---

## Roles (Ontology Alignment)

| Role | DPV Term | ODRL Term | Notes / Usage |
|------|-----------|------------|---------------|
| **Data Provider** | `dpv:DataSource`, `dpv:DataController` | — | Publishes official energy consumption records. |
| **Data Analyst** | `dpv:DataProcessor` | — | Executes the Python workflow to clean data and compute emissions. |
| **Researcher / Policy User** | `dpv:DataUser`, `dpv:Recipient` | — | Reviews and interprets the derived trends for sustainability insights. |

---

## Workflow (Mapped to DPV & ODRL)

| Element (process – action) / Description | DPV Term | ODRL Term | Proposed Custom Term (`mdat:`) |
|------------------------------------------|-----------|------------|--------------------------------|
| Read Excel file and load historical data | `dpv:Collect`, `dpv:Access` | `odrl:use` | `mdat:LoadEnergyDataset` |
| Rename columns and normalize schema | `dpv:Transform`, `dpv:Standardise` | `odrl:modify` | `mdat:NormalizeEnergySchema` |
| Filter regional subset (Θεσσαλονίκης) | `dpv:Select`, `dpv:Filter` | `odrl:use` | `mdat:SelectRegionalSubset` |
| Convert year field and remove incomplete rows | `dpv:Clean`, `dpv:Transform` | `odrl:modify` | `mdat:CleanTemporalRecords` |
| Apply emission factor (256 g CO₂/kWh) and derive CO₂ columns | `dpv:Derive`, `dpv:Calculate`, `dpv:EmissionData` | `odrl:derive` | `mdat:ComputeCO2FromEnergy` |
| Export enriched dataset (energy + emissions) to Excel | `dpv:Store`, `dpv:DerivedData` | `odrl:reproduce` | `mdat:ExportDerivedDataset` |
| Plot CO₂ emissions per category over time | `dpv:Visualise`, `dpv:Analyse` | `odrl:display`, `odrl:reproduce` | `mdat:PlotEmissionTrends` |
| Plot energy consumption per category over time | `dpv:Visualise`, `dpv:Analyse` | `odrl:display`, `odrl:reproduce` | `mdat:PlotEnergyConsumption` |
| Save charts as PNG files for reports | `dpv:Store`, `dpv:VisualisationData` | `odrl:reproduce` | `mdat:SaveVisualOutputs` |
| Share visual outputs and Excel results openly | `dpv:Disclose`, `dpv:Share`, `dpv:DerivedData` | `odrl:distribute` | `mdat:PublishEmissionIndicators` |

---

## Data Types and Vocabularies

| Data Type | DPV Term | Proposed Custom Term (`mdat:`) | Notes |
|------------|-----------|--------------------------------|-------|
| Energy consumption dataset | `dpv:EnvironmentalData`, `dpv:StatisticalData` | `mdat:EnergyDataset` | Annual kWh by usage category. |
| Emission derivation output | `dpv:DerivedData`, `dpv:EmissionData` | `mdat:CO2EmissionDataset` | Computed CO₂ (kg) values per sector and year. |
| Visualisation files (charts) | `dpv:VisualisationData` | `mdat:EnergyEmissionVisualisation` | PNG graphs generated by Matplotlib. |
| Analytical script | `dpv:ProcessingActivity`, `dpv:Algorithm` | `mdat:EnergyEmissionScript` | Python workflow used for processing. |

---

## Ontological Consistency Notes

- DPV terms validated against **DPV 2.2 Core + Processing Extension**.  
- ODRL actions drawn from **ODRL 2.2 Core Model**.  
- Each computational step represents a semantically distinct `dpv:Process` instance.  
- Custom MDAT terms introduced for precise analytical actions (`mdat:ComputeCO2FromEnergy`, `mdat:PlotEmissionTrends`, etc.).  
- Designed to ensure interoperability with other MDAT environmental and energy scenarios.

---

## requirements.txt
pandas==2.2.2
matplotlib==3.9.2
openpyxl==3.1.5
